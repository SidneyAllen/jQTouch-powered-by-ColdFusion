<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>wt09 - ColdFusion</title>
	
		<style type="text/css" media="screen">@import "assets/jqtouch/jqtouch.css";</style>
		<style type="text/css" media="screen">@import "assets/themes/apple/theme.css";</style>
      
        <script src="assets/jqtouch/jquery.1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="assets/jqtouch/jqtouch.js" type="application/x-javascript" charset="utf-8"></script>
	
		<script type="text/javascript" charset="utf-8">
		    var jQT = new $.jQTouch({
				fullscreen: true,
				icon: 'assets/images/Icon.png',
				startupScreen: 'assets/images/startup.png',
    	        addGlossToIcon: true,
        	    statusBar: 'black',
            	useFastTouch: true,
           	 	slideSelector: 'ul li a',
			    touchSelector: 'img.swipe',
				preloadImages: [
        		'themes/apple/img/back_button.png'
        		]					
			});
			
			$(document).ready(function(){

				$('#LoadORM').bind('click', function(e, info){
					$.get('http://localhost/bacfug/com/ContactScript.cfc?wsdl&method=getAllORM',getAllORMResultHandler)
				});		
				
				function getAllORMResultHandler(data) {
					var jdata = eval('(' + data + ')');
					
					alert('success');
					alert(data);
					alert(jdata);

					/*
					for(i = 0; i < data.length; i++) {
						alert(jdata[i].FirstName  +' ' + jdata[i].LastName);
					}
					*/
				}
				
				
				$('#LoadQuery').bind('click', function(e, info){
					$.get('http://localhost/bacfug/com/ContactScript.cfc?wsdl&method=getAllQuery',getAllQueryResultHandler)
				});		
				
				function getAllQueryResultHandler(data) {
					var jdata = eval('(' + data + ')');
					var colMap = new Object();
					alert('success');
					alert(data);
					alert(jdata);
					
					/*
					for(var i = 0; i < jdata.COLUMNS.length; i++) {
			        	colMap[jdata.COLUMNS[i]] = i;        
      				}
					
					for(i = 0; i < jdata.DATA.length; i++) {
						alert(jdata.DATA[i][colMap["FIRSTNAME"]]  +' ' + jdata.DATA[i][colMap["LASTNAME"]]);
					}
					*/
				}
				
				
				$('#LoadStruct').bind('click', function(e, info){
					$.get('http://localhost/bacfug/com/ContactScript.cfc?wsdl&method=getAllStruct',getAllStructResultHandler)
				});		
				
				function getAllStructResultHandler(data) {
					var jdata = eval('(' + data + ')');
					
					alert('success');
					alert(data);
					alert(jdata);
					
					/*
					for(i = 0; i < jdata.length; i++) {
						row = i + 1;
						alert(jdata[i]["FirstName"]  +' ' + jdata[i]["LastName"]);
					}					
					*/
				}

			});
			
		</script>
	</head>
	
	<body>
		<div id="jqt" class="fullscreen"> 
			<div id="home">
				<div class="toolbar"><h1>ColdFusion</h1></div>
				<ul class="edgetoedge">
				
 				</ul>
				<div align="center">
					<div id="LoadORM" class="whiteButton">Load ORM</div>
					<br>
					<div id="LoadQuery" class="grayButton">Load Query</div>
					<br>
					<a id="LoadStruct" class="whiteButton">Load Array of Struct</a>
				</div>
			</div>
		</div>
	</body>
</html>
